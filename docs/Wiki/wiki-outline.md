# Wiki 文档大纲

## 项目概述

- **项目名称**：CC-Workflow
- **项目定位**：Claude Code 中心化团队工作流，实现从需求到上线的全流程自动化
- **目标读者**：
  - 终端用户：使用 CC-Workflow 的团队成员（提需求、做评审、反馈意见）
  - 开发者：需要理解架构、开发新 Skill/Agent、贡献代码的人员
  - 运维人员：负责部署、配置、维护的人员
- **文档目标**：让不同角色的读者能够快速上手使用 CC-Workflow，理解其核心概念，并能进行二次开发和维护
- **复杂度评估**：中等偏高（11 个 Skills + 6 个 Agents + 15 阶段流程）

## 文档结构

### 用户指南/

#### 1. index.md - 用户指南首页
- **目标读者**：所有 CC-Workflow 用户
- **主题范围**：用户指南导航和快速入口
- **章节结构**：
  - 文档导航
  - 按场景查找文档
  - 快速链接
- **预估篇幅**：100-150 行

#### 2. 快速开始.md
- **目标读者**：新用户、初次使用者
- **主题范围**：从零开始使用 CC-Workflow 完成一个完整需求
- **Diataxis 类型**：Tutorial
- **章节结构**：
  - 前置条件（Claude Code 安装、Git 配置）
  - 步骤 1：初始化项目（/ideal-init）
  - 步骤 2：开始第一个需求（/ideal-requirement）
  - 步骤 3：完成评审流程
  - 步骤 4：执行开发任务
  - 步骤 5：完成收尾工作（维基更新、维基评审、成果提交）
  - 预期结果验证
  - 常见问题排查
- **预估篇幅**：300-400 行

#### 3. 流程概述.md
- **目标读者**：所有用户、需要理解整体流程的管理者
- **主题范围**：15 阶段开发流程的完整说明
- **Diataxis 类型**：Explanation
- **章节结构**：
  - 流程设计理念（为什么是 15 阶段）
  - 阶段总览（P1-P15 完整列表）
  - 阶段分组说明（规划阶段、准备阶段、执行阶段、收尾阶段）
  - 阶段触发机制
  - 阶段状态流转
  - 人工干预点说明
- **预估篇幅**：350-450 行

#### 4. 角色分工.md
- **目标读者**：团队成员、管理者
- **主题范围**：CC-Workflow 中的角色定义和职责划分
- **Diataxis 类型**：Explanation
- **章节结构**：
  - 角色体系概述
  - 团队成员职责（提需求、做评审、反馈意见）
  - Claude Code 职责（自动化执行部分）
  - 各阶段角色参与表
  - Agent 与人类角色对应关系
- **预估篇幅**：200-300 行

#### 5. 常见问题.md
- **目标读者**：遇到问题的用户
- **主题范围**：常见问题和解决方案
- **Diataxis 类型**：How-to
- **章节结构**：
  - 安装配置问题
  - 流程执行问题
  - 文档生成问题
  - Git 操作问题
  - 故障排查指南
- **预估篇幅**：200-300 行

### 开发指南/

#### 1. index.md - 开发指南首页
- **目标读者**：开发者、贡献者
- **主题范围**：开发指南导航和资源入口
- **章节结构**：
  - 文档导航
  - 开发环境准备
  - 贡献指南链接
- **预估篇幅**：100-150 行

#### 2. 架构设计.md
- **目标读者**：开发者、架构师
- **主题范围**：CC-Workflow 的技术架构和设计理念
- **Diataxis 类型**：Explanation
- **章节结构**：
  - 整体架构（三层结构：agents、skills、docs）
  - Skill + Agent 混合架构详解
    - Skill 层（流程规范层）
    - Agent 层（角色能力层）
    - 职责边界与协作机制
  - 存储架构（Git 仓库 + Obsidian vault）
  - 故事文件机制（上下文隔离原理）
  - 设计决策记录（ADR）
- **预估篇幅**：400-500 行

#### 3. Skill 开发指南.md
- **目标读者**：需要开发自定义 Skill 的开发者
- **主题范围**：如何开发、测试、部署新的 Skill
- **Diataxis 类型**：Tutorial + How-to
- **章节结构**：
  - Skill 是什么
  - Skill 文件结构
  - SKILL.md 编写规范
    - Frontmatter 标准
    - 章节结构要求
    - Mermaid 图表使用
  - Agent 调用机制
  - 参考文件组织
  - 测试方法（TDD 方式）
  - 部署流程
  - 完整示例：开发一个新 Skill
- **预估篇幅**：400-500 行

#### 4. Agent 开发指南.md
- **目标读者**：需要定义新 Agent 的开发者
- **主题范围**：如何定义和配置新的 Agent
- **Diataxis 类型**：Tutorial + How-to
- **章节结构**：
  - Agent 是什么
  - Agent 文件结构
  - Agent 定义规范
    - 角色身份定义
    - 思维方式描述
    - 输出规范
  - Agent 与 Skill 的协作
  - 最佳实践
  - 完整示例
- **预估篇幅**：300-400 行

#### 5. 配置参考.md
- **目标读者**：开发者、运维人员
- **主题范围**：所有配置文件的格式和参数说明
- **Diataxis 类型**：Reference
- **章节结构**：
  - 项目配置文件（project-config.md）
  - 流程状态文件（流程状态.md）
  - 故事索引文件（stories/index.md）
  - 全局配置（~/.claude/config.yaml）
  - 环境变量说明
- **预估篇幅**：250-350 行

#### 6. Skills 索引.md
- **目标读者**：开发者、高级用户
- **主题范围**：所有 Skills 的快速参考
- **Diataxis 类型**：Reference
- **章节结构**：
  - Skills 总览表
  - 各 Skill 详细说明
    - ideal-init
    - ideal-requirement
    - ideal-dev-solution
    - ideal-dev-plan
    - ideal-test-case
    - ideal-dev-exec
    - ideal-code-review
    - ideal-test-exec
    - ideal-wiki
    - ideal-flow-control
    - ideal-debugging
  - Skill 触发条件速查
  - Skill 依赖关系图
- **预估篇幅**：400-500 行

#### 7. Agents 索引.md
- **目标读者**：开发者、高级用户
- **主题范围**：所有 Agents 的快速参考
- **Diataxis 类型**：Reference
- **章节结构**：
  - Agents 总览表
  - 各 Agent 详细说明
    - pm（产品经理）
    - analyst（业务分析师）
    - architect（架构师）
    - dev（开发工程师）
    - qa（测试工程师）
    - tech-writer（技术文档撰写）
  - Agent 与 Skill 映射关系
- **预估篇幅**：300-400 行

#### 8. 术语表.md
- **目标读者**：所有读者
- **主题范围**：CC-Workflow 专用术语的定义
- **Diataxis 类型**：Reference
- **章节结构**：
  - 核心概念术语
  - 流程阶段术语
  - 文件类型术语
  - 术语中英对照表
- **预估篇幅**：150-200 行

## 设计说明

### 文档规划依据

CC-Workflow 是一个中等偏高复杂度的开发工作流系统，具有以下特点：

1. **双重读者群体**：既有只需要"使用"的终端用户，也有需要"理解内部实现"的开发者
2. **分层架构**：Skill + Agent 混合架构需要单独解释
3. **长流程**：15 阶段流程需要完整说明
4. **可扩展性**：支持用户开发自定义 Skill 和 Agent

因此文档按**读者群体**（用户指南/开发指南）划分，而非按功能模块划分。

### 覆盖范围

| 功能/场景 | 覆盖文档 |
|-----------|----------|
| 快速上手 | 快速开始.md |
| 理解流程 | 流程概述.md |
| 理解角色 | 角色分工.md |
| 解决问题 | 常见问题.md |
| 理解架构 | 架构设计.md |
| 开发 Skill | Skill 开发指南.md |
| 开发 Agent | Agent 开发指南.md |
| 查询配置 | 配置参考.md |
| 查询 Skill | Skills 索引.md |
| 查询 Agent | Agents 索引.md |
| 查询术语 | 术语表.md |

### 文档类型分布（Diataxis）

| 类型 | 文档 | 数量 |
|------|------|------|
| Tutorial | 快速开始.md、Skill 开发指南.md（部分）、Agent 开发指南.md（部分） | 2.5 |
| How-to | 常见问题.md、Skill 开发指南.md（部分）、Agent 开发指南.md（部分） | 2.5 |
| Explanation | 流程概述.md、角色分工.md、架构设计.md | 3 |
| Reference | 配置参考.md、Skills 索引.md、Agents 索引.md、术语表.md | 4 |

### 不在本次范围内

- API 接口文档（本项目无 REST/GraphQL API）
- 部署运维文档（待后续补充）
- 国际化文档（当前仅中文）
