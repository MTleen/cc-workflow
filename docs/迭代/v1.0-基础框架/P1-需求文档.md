---
需求名称: v1.0-基础框架
创建时间: 2026-02-16
当前阶段: P1
风险等级: 待评估
---

# P1-需求文档：v1.0-基础框架

## 一、需求背景

### 1.1 现状问题

当前团队研发流程存在以下痛点：

| 问题     | 影响                        |
| ------ | ------------------------- |
| 重复性工作多 | 需求文档、技术方案、测试用例等大量文档手写，效率低 |
| 流程不标准  | 每个人做法不同，质量参差不齐            |
| 信息不同步  | 文档和代码分散，容易出现不一致           |
| 评审效率低  | 缺乏标准化检查清单，评审流于形式          |
| 知识沉淀差  | 项目结束后维基更新不及时，知识流失         |

### 1.2 目标

构建一套 **Claude Code 中心化团队工作流系统**，实现：

1. **自动化**：Claude Code 自动生成文档、代码、测试
2. **标准化**：统一的模板、流程、质量标准
3. **可追溯**：所有文档版本控制，流程状态可视
4. **开箱即用**：团队成员只需提需求、做评审、反馈意见

---

## 二、目标用户

| 角色    | 使用场景       | 核心需求         |
| ----- | ---------- | ------------ |
| 产品经理  | 提需求、看方案、验收 | 简单提需求，自动生成文档 |
| 设计师   | 提设计、看实现    | 设计稿自动转前端代码   |
| 开发工程师 | 评审代码、修复Bug | 自动生成代码，人工把关  |
| 测试工程师 | 评审用例、执行测试  | 自动生成用例，执行验证  |
| 运维工程师 | 部署上线       | CI/CD 自动化    |

---

## 三、功能需求

### 3.1 核心功能

| 模块 | 功能 | 优先级 |
|------|------|--------|
| **流程编排器** | 16 阶段状态流转、触发器、通知 | P0 |
| **定制化 Skills** | 基于 Superpowers 的定制 skills | P0 |
| **文档模板系统** | 各阶段文档模板 | P0 |
| **风险评估** | 自动评估需求风险等级 | P1 |
| **通知服务** | IM 通知（企业微信/钉钉） | P1 |
| **维基生成** | 自动生成 5 类文档 | P2 |

### 3.2 Skills 清单

需要开发以下定制化 Skills：

| Skill 名称             | 对应阶段 | 功能描述         |
| -------------------- | ---- | ------------ |
| `ideal-brainstorm`   | P1   | 头脑风暴，细化需求想法  |
| `ideal-requirement`  | P1   | 生成标准需求文档     |
| `ideal-dev-solution` | P3   | 生成技术方案       |
| `ideal-dev-plan`     | P5   | 生成编码计划（原子任务） |
| `ideal-test-case`    | P7   | 生成测试用例       |
| `ideal-dev-execute`  | P9   | 执行开发（TDD）    |
| `ideal-dev-review`   | P10  | 代码审查         |
| `ideal-test-report`  | P11  | 生成测试报告       |
| `ideal-wiki`         | P15  | 生成维基文档       |

### 3.3 16 阶段流程

```
规划阶段: P1(需求) → P2(评审) → P3(方案) → P4(评审)
准备阶段: P5(计划) → P6(评审) → P7(用例) → P8(评审)
执行阶段: P9(开发) → P10(评审) → P11(测试) → P12(评审)
收尾阶段: P13(上线评审) → P14(部署) → P15(维基) → P16(评审)
```

**阶段说明**：
- 绿色（Claude 执行）：P1, P3, P5, P7, P9, P11, P15
- 黄色（人工评审）：P2, P4, P6, P8, P10, P12, P13, P16
- 蓝色（自动执行）：P14

---

## 四、非功能需求

| 维度 | 要求 |
|------|------|
| **可用性** | 团队成员无需培训即可上手 |
| **可靠性** | 流程状态不丢失，可恢复 |
| **性能** | 文档生成 < 30秒，代码生成按复杂度 |
| **安全** | 密钥不入库，敏感操作人工确认 |
| **扩展性** | 支持新增 Skills、模板、流程 |

---

## 五、约束条件

| 约束 | 说明 |
|------|------|
| **技术栈** | Claude Code + Obsidian + Git |
| **团队规模** | 中型团队（5-15人） |
| **CI/CD** | 待定（现有但不规范） |
| **通知渠道** | 先实现单一 IM 渠道 |

---

## 六、验收标准

### 6.1 P0 功能验收

- [ ] 流程编排器能正常驱动 16 阶段流转
- [ ] 至少 3 个核心 Skills 可用
- [ ] 文档模板能正确生成

### 6.2 端到端验证

选择一个简单功能（如"用户登录"），完整走通 P1-P16 流程：
1. 输入需求想法，生成需求文档
2. 需求评审通过后，生成技术方案
3. 方案评审通过后，生成编码计划
4. 计划评审通过后，生成测试用例
5. 用例评审通过后，执行开发
6. 代码评审通过后，执行测试
7. 测试评审通过后，部署上线
8. 维基更新完成

---

## 七、参考资料

- [Superpowers GitHub](https://github.com/obra/Superpowers)
- [Superpowers vs 工作流差距分析](../gap-analysis-superpowers-vs-workflow.md)

---

*文档版本: v1.0*
*创建时间: 2026-02-16*
*作者: Claude Code*
