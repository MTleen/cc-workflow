---
story_id: 006
title: 测试与验证 - 端到端测试
status: pending
depends_on: [001, 002, 003, 004, 005]
---

# Story 006: 测试与验证 - 端到端测试

## 上下文

### 需求来源
> 来源：P1-需求文档.md#六、验收标准

**功能验收：**
- [ ] 发布仓库 `ideal-best-practice` 创建完成，目录结构符合规范
- [ ] `manifest.json` 包含 ideal-dev 包的完整元数据
- [ ] `registry.json` 正确索引 ideal-dev 包
- [ ] `install.sh` 在 macOS 和 Linux 上成功安装 ideal-dev 包
- [ ] `install.ps1` 在 Windows 10+ 上成功安装 ideal-dev 包
- [ ] 安装后可在 Claude Code 中调用 `ideal-dev:requirement` 等 skills
- [ ] 产品网页可在 GitHub Pages 正常访问
- [ ] 网页正确展示 skills 和 agents 列表
- [ ] 点击 skill/agent 可预览详细内容
- [ ] 发布脚本可自动打包并推送到发布仓库

**非功能验收：**
- [ ] 网页首屏加载时间 < 2 秒
- [ ] 安装脚本在无网络时给出明确错误提示
- [ ] 安装失败时自动清理已下载的文件
- [ ] 安装命令在 macOS、Linux、Windows 上表现一致

### 技术方案
> 来源：P3-技术方案.md#九、实施计划

**阶段六：测试与文档**
- 端到端测试
- 用户文档
- 发布 v1.0.0

### 相关代码

依赖所有前置模块：
- Story 001: 包管理模块
- Story 002: 安装模块
- Story 003: 产品发布 Skill
- Story 004: Wiki 文档站模块
- Story 005: Wiki 发布 Skill

---

## 任务清单

- [ ] **任务 1**: 安装脚本端到端测试
  - [ ] 准备干净测试环境
  - [ ] macOS 安装测试
  - [ ] Linux 安装测试
  - [ ] Windows 安装测试
  - [ ] 验证 skills 安装位置
  - [ ] 验证 agents 安装位置
  - [ ] 验证 Claude Code 可识别

- [ ] **任务 2**: 产品发布 Skill 测试
  - [ ] 调用 /ideal-product-release --dry-run
  - [ ] 验证版本管理逻辑
  - [ ] 验证 manifest/registry 生成
  - [ ] 验证部署流程（模拟）
  - [ ] 验证回滚机制
  - [ ] 记录测试结果

- [ ] **任务 3**: Wiki 发布 Skill 测试
  - [ ] 调用 /ideal-wiki-release --dry-run
  - [ ] 验证文档构建流程
  - [ ] 验证主页更新逻辑
  - [ ] 验证部署流程（模拟）
  - [ ] 验证链接检查
  - [ ] 记录测试结果

- [ ] **任务 4**: 完整发布流程验证
  - [ ] 执行完整 P14-P17 流程模拟
  - [ ] 验证产品资源发布
  - [ ] 验证 Wiki 站点部署
  - [ ] 验证 GitHub Pages 可访问
  - [ ] 生成测试报告

---

## 验收标准

### 功能验收
- [ ] 所有平台安装测试通过
- [ ] ideal-product-release Skill 工作正常
- [ ] ideal-wiki-release Skill 工作正常
- [ ] 完整发布流程无阻塞
- [ ] 测试报告生成完成

### 代码质量
- [ ] 测试用例覆盖主要场景
- [ ] 测试报告格式规范
- [ ] 问题记录完整

---

## 实现笔记

<!-- 由 Claude 在执行过程中填写 -->
