---
story_id: 003
title: 更新配置模板
status: pending
depends_on: [001]
---

# Story 003: 更新配置模板

## 上下文

### 需求来源
> 来源：P1-需求文档.md#三、重构方案 > 3.4.4 Step 4: 生成 project-config.md

基于探测结果和用户确认，生成 `.claude/project-config.md`。

### 技术方案
> 来源：P3-技术方案.md#M4: 配置生成

**处理逻辑**：
1. 读取 `references/templates/project-config.md.tmpl`
2. 填充探测结果到模板
3. 检查文件是否存在
   - 存在：询问覆盖/合并/跳过
   - 不存在：直接创建

### 相关代码

依赖模块：
- `references/templates/project-config.md.tmpl` - 配置模板

## 任务清单

- [ ] 任务 1: 更新 project-config.md.tmpl
  - [ ] 添加初始化信息区块
  - [ ] 添加占位符变量
  - [ ] 确保 YAML Front Matter 格式正确
- [ ] 任务 2: 添加 CLAUDE.md.appendix.md
  - [ ] 创建文件
  - [ ] 定义追加内容结构
  - [ ] 添加时间戳和版本占位符

## 验收标准

### 功能验收
- [ ] project-config.md.tmpl 包含所有需要的占位符
- [ ] CLAUDE.md.appendix.md 存在
- [ ] 包含完整的追加内容结构
- [ ] 包含 {timestamp} 和 {version} 占位符

### 代码质量
- [ ] 格式与 Obsidian 兼容
- [ ] 占位符命名一致

## 实现笔记

<!-- 由 Claude 在执行过程中填写 -->
